@(form: Form[domain.RecordedRunConfiguration])(implicit flash: Flash)

@import views.helper.bootstrap2._

@hidden(field: Field) = {
  <input type="hidden" name="@field.name" id="@field.id" value="@field.value">
}

@checkbox(field: Field, args: (Symbol, Any)*) = {
  <label class="checkbox inline">
    <input type="checkbox" id="@field.id" name="@field.name" value="true" @(if(field.value == Some("true")) "checked" else "")>
    @args.toMap.getOrElse('_label, field.id)
  </label>
}

@main(title = "Recorded Runs") {

<h1>Recorded Runs</h1>

<p>Here we will list a bunch of previously recorded runs.  For now
there's nothing to see.</p>

@helper.form(action = routes.RecordedRuns.create, 'class -> "form-horizontal") {

  @helper.repeat(form("selections"), min=0) { gateway =>

    <div class="well well-large">

      <h3>Gateway: @gateway("host").value:@gateway("port").value</h3>

      @hidden(gateway("host"))
      @hidden(gateway("port"))

      <ul class="thumbnails">
        
        @helper.repeat(gateway("devices"), min=0) { device =>
        <li class="span4">
          <div class="thumbnail">
            <h4>Unit @device("unit").value</h4>
            @hidden(device("unit"))
            <div class="control-group">
              <label class="control-label">Tables to record:</label>
              <div class="controls">
                @checkbox(device("table1"), '_label -> "Table 1")
                @checkbox(device("table2"), '_label -> "Table 2")
                @checkbox(device("table3"), '_label -> "Table 3")
                @checkbox(device("table4"), '_label -> "Table 4")
                @checkbox(device("table5"), '_label -> "Table 5")
                @checkbox(device("table6"), '_label -> "Table 6")
              </div>
            </div>
          </div>
        </li>
        }

      </ul>



    </div>
  }

  <button class="pull-right btn btn-primary btn-large" type="submit" name="submit-form" value="create">Create</button>
}

}
